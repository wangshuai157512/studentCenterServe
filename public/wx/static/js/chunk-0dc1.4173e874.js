(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0dc1"],{"8SHQ":function(t,e,a){"use strict";e.a={imgUrl:"https://xxzx.chinaedu.net"}},"RU/L":function(t,e,a){a("Rqdy");var i=a("WEpk").Object;t.exports=function(t,e,a){return i.defineProperty(t,e,a)}},Rqdy:function(t,e,a){var i=a("Y7ZC");i(i.S+i.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(t,e,a){t.exports={default:a("RU/L"),__esModule:!0}},Udew:function(t,e,a){"use strict";var i=a("eLTP");a.n(i).a},Vm1k:function(t,e,a){t.exports=a.p+"static/img/empty-img.1a7c069.jpeg"},YEIV:function(t,e,a){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(a("SEkw"));e.default=function(t,e,a){return e in t?(0,i.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},eLTP:function(t,e,a){},nzjh:function(t,e,a){"use strict";var i,r=a("YEIV"),n=a.n(r),s=a("t3Un"),o=a("Aeqt"),l=(i={addCategory:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/addCategory",method:"post",data:t})},getCategory:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getCategory",method:"get",data:t})},updateCategory:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/updateCategory",method:"post",data:t})},uploadFile:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/upload/uploadFile",method:"post",data:t})},getCourseDetail:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getCourseDetail?id="+t.id,method:"get",data:t})},updateCourse:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/updateCourse",method:"post",data:t})},addCourse:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/addCourse",method:"post",data:t})},addBanner:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/addBanner",method:"post",data:t})},getCourse:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getCourse",method:"get",data:t})},getBanner:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getBanner",method:"get",data:t})},editBanner:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/editBanner",method:"post",data:t})},getBannerDetail:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getBannerDetail?id="+t.id,method:"get",data:t})},delBanner:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/delBanner",method:"post",data:t})},bannerShowOrhide:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/bannerShowOrhide",method:"post",data:t})},getShareList:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getShare?id="+t.id,method:"get",data:t})},delUser:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/delUser",method:"post",data:t})},delCourse:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/delCourse",method:"post",data:t})},delCategory:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/delCategory",method:"post",data:t})},getComments:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getComments?id="+t.id,method:"get",data:t})},editComment:function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/editComment",method:"post",data:t})}},n()(i,"getCourse",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getCourse",method:"get",data:t})}),n()(i,"addChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/addCourseChapter",method:"post",data:t})}),n()(i,"getChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getChapter",method:"post",data:t})}),n()(i,"addChildChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/addCourseChildChapter",method:"post",data:t})}),n()(i,"delChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/delCourseChapter",method:"post",data:t})}),n()(i,"updateChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/updateChapter",method:"post",data:t})}),n()(i,"getChildChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getChildChapter",method:"post",data:t})}),n()(i,"updateChildChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/updateChildChapter",method:"post",data:t})}),n()(i,"delChildChapter",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/delChildChapter",method:"post",data:t})}),n()(i,"getIsShowContent",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/getIsShowContent",method:"post",data:t})}),n()(i,"setIsShowContent",function(t){return Object(s.a)({url:o.a.BaseUrl+"/api/it_admin/setIsShowContent",method:"post",data:t})}),i);e.a=l},uUuS:function(t,e,a){"use strict";a.r(e);var i=a("4d7F"),r=a.n(i),n=a("nzjh"),s=a("8SHQ"),o={name:"courseAdd",data:function(){return{baseUrl:s.a.imgUrl,form:{name:"",description:"",teacher:"",weight:""},typeList:[{label:"默认",id:0},{label:"免费",id:1},{label:"精品",id:2}],recommend:[{label:"否",id:0},{label:"是",id:1}],categoryList:[],catid:"",typeid:"",recommendid:"",query:{},course:{},smallUrl:"",bannerUrl:"",teacherHeadUrl:"",contentUrl:[],videoUrl:""}},computed:{},created:function(){var t=this;this.query=this.$route.query,0===this.query.type?this.getCourseDetail():n.a.getCategory().then(function(e){1===e.code&&(t.categoryList=e.data)})},methods:{deleteImg:function(t){var e=this.contentUrl.filter(function(e,a){return a!==t});this.contentUrl=e},addContentUrl:function(){var t=this,e=this.$refs.contentUrl.files[0];this.upload(e).then(function(e){t.contentUrl.push(e.path)})},add:function(){var t=this;if(this.form.name&&this.form.description&&""!==this.form.weight&&this.form.teacher&&this.teacherHeadUrl&&this.smallUrl&&this.bannerUrl&&this.contentUrl){var e={catid:this.catid,type:this.typeid,title:this.form.name,description:this.form.description,imgUrl:this.smallUrl,bannerUrl:this.bannerUrl,contentUrl:this.contentUrl.join(","),teacherName:this.form.teacher,teacherHeadImg:this.teacherHeadUrl,isRecommend:this.recommendid,weight:this.form.weight,videoUrl:this.videoUrl,id:this.course.id};n.a.addCourse(e).then(function(e){1===e.code?(t.$message({message:"添加成功",type:"success"}),t.$router.go(-1)):t.$message({showClose:!0,message:"添加失败",type:"error"})})}else console.log(this),this.$message({showClose:!0,message:"请输入完整",type:"error"})},save:function(){var t=this;if(this.form.name&&this.form.description&&""!==this.form.weight&&this.form.teacher&&this.teacherHeadUrl&&this.smallUrl&&this.bannerUrl&&this.contentUrl){var e={catid:this.catid,type:this.typeid,title:this.form.name,description:this.form.description,imgUrl:this.smallUrl,bannerUrl:this.bannerUrl,contentUrl:this.contentUrl.join(","),teacherName:this.form.teacher,teacherHeadImg:this.teacherHeadUrl,isRecommend:this.recommendid,weight:this.form.weight,videoUrl:this.videoUrl,id:this.course.id};n.a.updateCourse(e).then(function(e){1===e.code?(t.$message({message:"修改成功",type:"success"}),t.$router.go(-1)):t.$message({showClose:!0,message:"修改失败",type:"error"})})}else console.log(this),this.$message({showClose:!0,message:"请输入完整",type:"error"})},imgUrl:function(t){return this.baseUrl+t},editSmallImg:function(){var t=this,e=this.$refs.inputer.files[0];this.upload(e).then(function(e){t.smallUrl=e.path})},editBannerImg:function(){var t=this,e=this.$refs.banner.files[0];this.upload(e).then(function(e){t.bannerUrl=e.path})},editTeacherImg:function(){var t=this,e=this.$refs.teacher.files[0];this.upload(e).then(function(e){t.teacherHeadUrl=e.path})},UploadVideoData:function(){var t=this,e=this.$refs.videoUrl.files[0];console.log(e),this.upload(e).then(function(e){t.videoUrl=e.path})},upload:function(t){var e=this;return new r.a(function(a,i){var r=new FormData;r.append("file",t),n.a.uploadFile(r).then(function(t){1===t.code?a(t.data):e.$message({showClose:!0,message:"上传失败",type:"error"})})})},getCourseDetail:function(){var t=this;n.a.getCourseDetail({id:this.query.id}).then(function(e){if(1===e.code){var a=e.data;t.course=a,t.form.name=a.title,t.form.description=a.description,t.form.teacher=a.teacherName,t.form.weight=a.weight,t.catid=a.catid,t.typeid=a.type,t.recommendid=a.isRecommend,t.smallUrl=a.imgUrl,t.bannerUrl=a.bannerUrl,t.teacherHeadUrl=a.teacher_head_img,t.contentUrl=a.contentUrl?a.contentUrl:[],t.videoUrl=a.videoUrl}})}}},l=(a("Udew"),a("KHd+")),d=Object(l.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"form-box"},[i("el-form",{ref:"form",staticClass:"hc-form",attrs:{model:t.form,"label-width":"80px"}},[i("el-form-item",{staticClass:"form-item",attrs:{label:"课程名称"}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{staticClass:"form-item",attrs:{label:"课程介绍"}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),i("el-form-item",{staticClass:"form-item",attrs:{label:"课程讲师"}},[i("el-input",{model:{value:t.form.teacher,callback:function(e){t.$set(t.form,"teacher",e)},expression:"form.teacher"}})],1),t._v(" "),i("el-form-item",{staticClass:"form-item",attrs:{label:"课程权重"}},[i("el-input",{model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",e)},expression:"form.weight"}})],1),t._v(" "),i("el-form-item",{staticClass:"form-item",attrs:{label:"所属分类"}},[0===t.query.type?i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.catid,callback:function(e){t.catid=e},expression:"catid"}},t._l(t.course.categoryList,function(t,e){return i("el-option",{key:e,attrs:{label:t.catname,value:t.catid}})})):i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.catid,callback:function(e){t.catid=e},expression:"catid"}},t._l(t.categoryList,function(t,e){return i("el-option",{key:e,attrs:{label:t.catname,value:t.catid}})}))],1),t._v(" "),i("el-form-item",{staticClass:"form-item",attrs:{label:"所属类型"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.typeid,callback:function(e){t.typeid=e},expression:"typeid"}},t._l(t.typeList,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.id}})}))],1),t._v(" "),i("el-form-item",{staticClass:"form-item",attrs:{label:"是否推荐"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.recommendid,callback:function(e){t.recommendid=e},expression:"recommendid"}},t._l(t.recommend,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.id}})}))],1)],1),t._v(" "),i("div",{staticClass:"img-content"},[i("p",[t._v("缩略图")]),t._v(" "),i("div",{staticClass:"upload-box"},[i("div",[t.smallUrl?i("img",{staticClass:"samll-img",attrs:{src:t.imgUrl(t.smallUrl)}}):i("img",{staticClass:"que-img",attrs:{src:a("Vm1k")}})]),t._v(" "),i("button",{staticClass:"upload-btn"},[t._v("\n          编辑\n          "),i("input",{ref:"inputer",attrs:{type:"file"},on:{change:t.editSmallImg}})])])]),t._v(" "),i("div",{staticClass:"img-content"},[i("p",[t._v("banner图")]),t._v(" "),i("div",{staticClass:"upload-box"},[i("div",[t.bannerUrl?i("img",{staticClass:"banner-img",attrs:{src:t.imgUrl(t.bannerUrl)}}):i("img",{staticClass:"que-img",attrs:{src:a("Vm1k")}})]),t._v(" "),i("button",{staticClass:"upload-btn"},[t._v("\n          编辑\n          "),i("input",{ref:"banner",attrs:{type:"file"},on:{change:t.editBannerImg}})])])]),t._v(" "),i("div",{staticClass:"img-content"},[i("p",[t._v("课程简介")]),t._v(" "),i("div",{staticClass:"upload-box"},[t.contentUrl&&t.contentUrl.length>=1?i("div",{staticClass:"course-img"},t._l(t.contentUrl,function(e,a){return i("div",{key:a,staticStyle:{position:"relative"}},[i("img",{staticClass:"content-img",staticStyle:{"margin-right":"5px"},attrs:{src:t.imgUrl(e)}}),t._v(" "),i("span",{staticClass:"close-icon",on:{click:function(e){t.deleteImg(a)}}},[i("i",{staticClass:"el-icon-close"})])])})):i("div",[i("img",{staticClass:"que-img",attrs:{src:a("Vm1k")}})]),t._v(" "),i("button",{staticClass:"upload-btn"},[t._v("\n          添加\n          "),i("input",{ref:"contentUrl",attrs:{type:"file"},on:{change:t.addContentUrl}})])])]),t._v(" "),i("div",{staticClass:"img-content"},[i("p",[t._v("教师头像")]),t._v(" "),i("div",{staticClass:"upload-box"},[i("div",[t.teacherHeadUrl?i("img",{staticClass:"samll-img",attrs:{src:t.imgUrl(t.teacherHeadUrl)}}):i("img",{staticClass:"que-img",attrs:{src:a("Vm1k")}})]),t._v(" "),i("button",{staticClass:"upload-btn"},[t._v("\n          编辑\n          "),i("input",{ref:"teacher",attrs:{type:"file"},on:{change:t.editTeacherImg}})])])])],1),t._v(" "),0===t.query.type?i("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]):i("el-button",{staticStyle:{margin:"20px 10px 20px"},attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1)},[],!1,null,"345a2dc2",null);d.options.__file="courseAdd.vue";e.default=d.exports}}]);
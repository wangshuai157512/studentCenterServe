(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-261d"],{"9ZuB":function(e,t,n){"use strict";var a=n("kW2h");n.n(a).a},WPss:function(e,t,n){"use strict";var a=n("Aeqt"),i={getUserList:a.a.BaseUrl+"/api/youxuepei_admin/getUserList",getFormUserList:a.a.BaseUrl+"/api/youxuepei_admin/getFormUserList",delUser:a.a.BaseUrl+"/api/youxuepei_admin/delUser",getChannel:a.a.BaseUrl+"/api/youxuepei_admin/getChannel",addChannel:a.a.BaseUrl+"/api/youxuepei_admin/addChannel",delChannel:a.a.BaseUrl+"/api/youxuepei_admin/delChannel"};t.a=i},kW2h:function(e,t,n){},l0gm:function(e,t,n){"use strict";n.r(t);var a=n("WPss"),i=n("t3Un"),l={name:"channel",data:function(){return{channelList:[],listLoading:!1,dialogFormVisible:!1,channelForm:{name:""}}},created:function(){this.getChannelList()},methods:{getChannelList:function(){var e=this;this.listLoading=!0,Object(i.a)(a.a.getChannel,"get").then(function(t){e.listLoading=!1,1===t.code?e.channelList=t.data:e.$message.error("获取失败")})},del:function(e){var t=this,n=this;this.$confirm("此操作将永久删除该渠道, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var l=t.$loading();Object(i.a)({url:a.a.delChannel,method:"post",data:{id:e}}).then(function(e){1===e.code?setTimeout(function(){t.$message.success("删除成功"),l.close(),n.getChannelList()},1e3):t.$message.error("删除失败")})}).catch(function(){})},addChannel:function(){var e=this,t=this,n=this.channelForm.name.replace(/^\s+|\s+$/g,"");if(n){var l=this.$loading(),o={name:n};Object(i.a)({url:a.a.addChannel,method:"post",data:o}).then(function(n){1===n.code?setTimeout(function(){e.$message.success("添加成功"),e.dialogFormVisible=!1,l.close(),t.getChannelList()},1e3):(l.close(),e.$message.error("添加失败"))})}else this.$message.error("请输入渠道名称")}}},o=(n("9ZuB"),n("KHd+")),s=Object(o.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"channel-content"},[n("div",{staticClass:"button-content"},[n("div",{staticClass:"add-content"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加渠道")])],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.channelList,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.id)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"渠道"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.channel_name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.del(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:"渠道",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{model:e.channelForm}},[n("el-form-item",{attrs:{label:"渠道名称","label-width":"120px"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.channelForm.name,callback:function(t){e.$set(e.channelForm,"name",t)},expression:"channelForm.name"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.addChannel}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"7c05f3e2",null);s.options.__file="channel.vue";t.default=s.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7d2f"],{"24JK":function(e,t,a){"use strict";a.r(t);var r=a("yr2c"),o=a("Mz3J"),s=a("XJYT"),n={components:{Pagination:o.a},filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{courseTitle:"新增课程",list:[],total:0,listLoading:!0,listQuery:{page:1,limit:10},search:"",dialogFormVisible:!1,courseTypeOptions:[{id:0,name:"录播回放课"},{id:1,name:"直播课程"}],course:{courseName:"",sign:"",introduce:"",address:"",imgUrl:"",courseType:"",teacher:"",courseTime:"",startTime:"",endTime:""}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(r.l)(this.listQuery).then(function(t){t.success?(e.list=t.courseList,e.total=t.total,setTimeout(function(){e.listLoading=!1},1500)):e.listLoading=!1})},del:function(e){this.$confirm("确认要删除该咨询？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})},look:function(e){this.$router.push({path:"/detail",query:{id:e}})},edit:function(e,t){this.$data.dialogFormVisible=!0,this.$data.courseTitle="编辑课程",this.$data.course=this.$data.list[t]},enable:function(e){var t=this,a={pid:e,isEnable:1};Object(r.k)(a).then(function(e){e.success&&(t.$message({type:"success",message:"启用成功!"}),t.fetchData())})},stop:function(e){var t=this,a={pid:e,isEnable:0};Object(r.k)(a).then(function(e){e.success&&(t.$message({type:"success",message:"停用成功!"}),t.fetchData())})},getValue:function(e){this.$data.course.status=e},addCourse:function(){this.$data.dialogFormVisible=!0,this.$data.courseTitle="新增课程"},sureSubmit:function(){"编辑课程"!==this.$data.courseTitle?""===this.$data.course.courseName?s.Message.error("请输入课程名称"):""===this.$data.course.sign?s.Message.error("请输入课程标签"):""===this.$data.course.status?s.Message.error("请输入课程类型"):""===this.$data.course.introduce?s.Message.error("请输入课程简介"):""===this.$data.course.address?s.Message.error("请输入课程地址"):""===this.$data.course.courseUrl?s.Message.error("请输入图片地址"):""===this.$data.course.teacher?s.Message.error("请输入讲师名称"):Number(0===this.$data.course.status)?""===this.$data.course.courseTime?s.Message.error("请输入课程时长"):this.request(this.$data.course):""===this.$data.course.startTime?s.Message.error("请输入开始时间"):""===this.$data.course.endTime?s.Message.error("请输入结束时间"):this.request(this.$data.course):this.editCourse()},request:function(e){var t=this;Object(r.a)(e).then(function(e){e.success?(s.Message.success("课程添加成功！"),t.$data.dialogFormVisible=!1,t.fetchData()):s.Message.error("课程添加失败！")})},editCourse:function(){var e=this,t=this.$data.course;Object(r.g)(t).then(function(t){t.success&&(s.Message.success("课程编辑成功！"),e.$data.dialogFormVisible=!1,e.fetchData())})}}},u=a("KHd+"),i=Object(u.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"inputBox"},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入课程名称查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addCourse}},[e._v("新增")])],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogFormVisible,title:e.courseTitle},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"课程名称",prop:"title"}},[a("el-input",{model:{value:e.course.courseName,callback:function(t){e.$set(e.course,"courseName",t)},expression:"course.courseName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"课程标签",prop:"title"}},[a("el-input",{model:{value:e.course.sign,callback:function(t){e.$set(e.course,"sign",t)},expression:"course.sign"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"课程类型",prop:"title"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},on:{change:e.getValue},model:{value:e.course.courseType,callback:function(t){e.$set(e.course,"courseType",t)},expression:"course.courseType"}},e._l(e.courseTypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"课程简介",prop:"title"}},[a("el-input",{model:{value:e.course.introduce,callback:function(t){e.$set(e.course,"introduce",t)},expression:"course.introduce"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"课程地址",prop:"title"}},[a("el-input",{model:{value:e.course.address,callback:function(t){e.$set(e.course,"address",t)},expression:"course.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片地址",prop:"title"}},[a("el-input",{model:{value:e.course.imgUrl,callback:function(t){e.$set(e.course,"imgUrl",t)},expression:"course.imgUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"讲师",prop:"title"}},[a("el-input",{model:{value:e.course.teacher,callback:function(t){e.$set(e.course,"teacher",t)},expression:"course.teacher"}})],1),e._v(" "),0===e.course.courseType?a("el-form-item",{attrs:{label:"课时",prop:"title"}},[a("el-input",{model:{value:e.course.courseTime,callback:function(t){e.$set(e.course,"courseTime",t)},expression:"course.courseTime"}})],1):e._e(),e._v(" "),1===e.course.courseType?a("el-form-item",{attrs:{label:"开始时间",prop:"title"}},[a("el-input",{model:{value:e.course.startTime,callback:function(t){e.$set(e.course,"startTime",t)},expression:"course.startTime"}})],1):e._e(),e._v(" "),1===e.course.courseType?a("el-form-item",{attrs:{label:"结束时间",prop:"title"}},[a("el-input",{model:{value:e.course.endTime,callback:function(t){e.$set(e.course,"endTime",t)},expression:"course.endTime"}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sureSubmit}},[e._v("确定")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list.filter(function(t){return!e.search||t.courseName.toLowerCase().includes(e.search.toLowerCase())}),"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课程名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.courseName)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课程类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.courseType?a("p",[e._v("录播回放课")]):1===t.row.courseType?a("p",[e._v("直播课")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课程文件地址 / 直播页面地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.address)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课程简介"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.introduce)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课程讲师"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.teacher)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课程标签"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.sign)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"课程时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.courseTime)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.startTime)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"结束时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.endTime)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.edit(t.row.id,t.$index)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){e.$set(e.listQuery,"page",t)},"update:limit":function(t){e.$set(e.listQuery,"limit",t)},pagination:e.fetchData}})],1)},[],!1,null,null,null);i.options.__file="index.vue";t.default=i.exports},yr2c:function(e,t,a){"use strict";a.d(t,"o",function(){return s}),a.d(t,"t",function(){return n}),a.d(t,"c",function(){return u}),a.d(t,"f",function(){return i}),a.d(t,"q",function(){return c}),a.d(t,"d",function(){return l}),a.d(t,"i",function(){return d}),a.d(t,"v",function(){return p}),a.d(t,"j",function(){return f}),a.d(t,"e",function(){return m}),a.d(t,"u",function(){return h}),a.d(t,"m",function(){return b}),a.d(t,"k",function(){return _}),a.d(t,"l",function(){return g}),a.d(t,"r",function(){return v}),a.d(t,"s",function(){return $}),a.d(t,"a",function(){return y}),a.d(t,"b",function(){return T}),a.d(t,"p",function(){return C}),a.d(t,"h",function(){return k}),a.d(t,"g",function(){return w}),a.d(t,"n",function(){return O});var r=a("t3Un"),o=a("Aeqt");function s(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/get",method:"post",data:e})}function n(){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/selectTagCourse",method:"get"})}function u(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/addTagCourse",method:"post",data:e})}function i(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/deleteTagCourse",method:"post",data:e})}function c(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/look",method:"post",data:{id:e}})}function l(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/add",method:"post",data:e})}function d(e,t){return t.id=e,Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/edit",method:"post",data:t})}function p(e){return console.log(o.a),Object(r.a)({url:o.a.BaseUrl+"/api/upload/uploadFile",method:"post",data:e})}function f(e,t){return t.id=e,Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/editUploadphoto",method:"post",data:t})}function m(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/del",method:"post",data:{id:e}})}function h(e,t){return Object(r.a)({url:o.a.BaseUrl+"/api/app_teacherCourse/showTeacherCourse",method:"post",data:{id:e,isShow:t}})}function b(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/get",method:"post",data:e})}function _(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/enable",method:"post",data:e})}function g(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/allDetail",method:"post",data:e})}function v(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/outCourse",method:"post",data:e})}function $(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/relaseCourse",method:"post",data:e})}function y(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/addCourse",method:"post",data:e})}function T(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/add",method:"post",data:e})}function C(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/getbar",method:"post",data:e})}function k(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/edit",method:"post",data:e})}function w(e){return Object(r.a)({url:o.a.BaseUrl+"/api/app_couponCourse/editCourse",method:"post",data:e})}function O(e){return Object(r.a)({url:o.a.BaseUrl+"/api/it_admin/courseList?page="+e.page,method:"get",data:e})}}}]);
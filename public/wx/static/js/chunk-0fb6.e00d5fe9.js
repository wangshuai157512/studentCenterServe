(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0fb6"],{"8SHQ":function(t,e,a){"use strict";e.a={imgUrl:"https://xxzx.chinaedu.net"}},Gcxm:function(t,e,a){"use strict";var r=a("ihJD");a.n(r).a},"RU/L":function(t,e,a){a("Rqdy");var r=a("WEpk").Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},Rqdy:function(t,e,a){var r=a("Y7ZC");r(r.S+r.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(t,e,a){t.exports={default:a("RU/L"),__esModule:!0}},SQ9w:function(t,e,a){"use strict";a.r(e);var r=a("4d7F"),n=a.n(r),i=a("nzjh"),s=a("8SHQ"),d={name:"bannerAdd",data:function(){return{baseUrl:s.a.imgUrl,query:"",bannerUrl:"",bannerCourseList:"",editList:"",id:"",weight:0}},computed:{},created:function(){var t=this;this.query=this.$route.query,this.query.id?(this.getCourse(),i.a.getBannerDetail(this.query).then(function(e){1===e.code&&(t.editList=e.data,t.bannerUrl=e.data.imgUrl,t.weight=e.data.weight,t.id=e.data.courseId)})):this.getCourse()},methods:{getCourse:function(){var t=this;i.a.getCourse().then(function(e){1===e.code&&(t.bannerCourseList=e.data,t.id=e.data.id)})},add:function(){var t=this;if(this.bannerUrl&&this.id&&""!==this.weight){var e={url:this.bannerUrl,courseId:this.id,weight:parseInt(this.weight)};i.a.addBanner(e).then(function(e){1===e.code?t.$message({message:"添加成功",type:"success"}):t.$message({showClose:!0,message:"添加失败",type:"error"})})}else this.$message({showClose:!0,message:"请输入完整",type:"error"})},save:function(){var t=this;if(this.bannerUrl&&this.id&&""!==this.weight){var e={imgUrl:this.bannerUrl,courseId:this.id,weight:parseInt(this.weight),id:this.query.id};i.a.editBanner(e).then(function(e){1===e.code?(t.$message({message:"修改成功",type:"success"}),t.$router.go(-1)):t.$message({showClose:!0,message:"修改失败",type:"error"})})}else this.$message({showClose:!0,message:"请输入完整",type:"error"})},imgUrl:function(t){return this.baseUrl+t},editBannerImg:function(){var t=this,e=this.$refs.banner.files[0];this.upload(e).then(function(e){t.bannerUrl=e.path})},upload:function(t){var e=this;return new n.a(function(a,r){var n=new FormData;n.append("file",t),i.a.uploadFile(n).then(function(t){1===t.code?a(t.data):e.$message({showClose:!0,message:"上传失败",type:"error"})})})}}},o=(a("Gcxm"),a("KHd+")),u=Object(o.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",staticClass:"hc-form",attrs:{"label-width":"80px"}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"所属课程"}},[t.query.id?r("el-select",{staticClass:"select_width",model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},t._l(t.bannerCourseList,function(t,e){return r("el-option",{key:e,attrs:{label:t.title,value:t.id}})})):r("el-select",{staticClass:"select_width",attrs:{placeholder:"请选择"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},t._l(t.bannerCourseList,function(t,e){return r("el-option",{key:e,attrs:{label:t.title,value:t.id}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"课程权重"}},[r("el-input",{staticClass:"weight",model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1)],1),t._v(" "),r("div",{staticClass:"img-content"},[r("p",[t._v("banner图")]),t._v(" "),r("div",{staticClass:"upload-box"},[r("div",[t.bannerUrl?r("img",{staticClass:"banner-img",attrs:{src:t.imgUrl(t.bannerUrl)}}):r("img",{staticClass:"que-img",attrs:{src:a("Vm1k")}})]),t._v(" "),r("button",{staticClass:"upload-btn"},[t._v("\n          编辑\n          "),r("input",{ref:"banner",attrs:{type:"file"},on:{change:t.editBannerImg}})])])])],1),t._v(" "),t.query.id?r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]):r("el-button",{staticStyle:{margin:"20px 10px 20px"},attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1)},[],!1,null,"96be42dc",null);u.options.__file="bannerAdd.vue";e.default=u.exports},Vm1k:function(t,e,a){t.exports=a.p+"static/img/empty-img.1a7c069.jpeg"},YEIV:function(t,e,a){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(a("SEkw"));e.default=function(t,e,a){return e in t?(0,r.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},ihJD:function(t,e,a){},nzjh:function(t,e,a){"use strict";var r,n=a("YEIV"),i=a.n(n),s=a("t3Un"),d=a("Aeqt"),o=(r={addCategory:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/addCategory",method:"post",data:t})},getCategory:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getCategory",method:"get",data:t})},updateCategory:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/updateCategory",method:"post",data:t})},uploadFile:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/upload/uploadFile",method:"post",data:t})},getCourseDetail:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getCourseDetail?id="+t.id,method:"get",data:t})},updateCourse:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/updateCourse",method:"post",data:t})},addCourse:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/addCourse",method:"post",data:t})},addBanner:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/addBanner",method:"post",data:t})},getCourse:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getCourse",method:"get",data:t})},getBanner:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getBanner",method:"get",data:t})},editBanner:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/editBanner",method:"post",data:t})},getBannerDetail:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getBannerDetail?id="+t.id,method:"get",data:t})},delBanner:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/delBanner",method:"post",data:t})},bannerShowOrhide:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/bannerShowOrhide",method:"post",data:t})},getShareList:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getShare?id="+t.id,method:"get",data:t})},delUser:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/delUser",method:"post",data:t})},delCourse:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/delCourse",method:"post",data:t})},delCategory:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/delCategory",method:"post",data:t})},getComments:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getComments?id="+t.id,method:"get",data:t})},editComment:function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/editComment",method:"post",data:t})}},i()(r,"getCourse",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getCourse",method:"get",data:t})}),i()(r,"addChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/addCourseChapter",method:"post",data:t})}),i()(r,"getChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getChapter",method:"post",data:t})}),i()(r,"addChildChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/addCourseChildChapter",method:"post",data:t})}),i()(r,"delChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/delCourseChapter",method:"post",data:t})}),i()(r,"updateChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/updateChapter",method:"post",data:t})}),i()(r,"getChildChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getChildChapter",method:"post",data:t})}),i()(r,"updateChildChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/updateChildChapter",method:"post",data:t})}),i()(r,"delChildChapter",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/delChildChapter",method:"post",data:t})}),i()(r,"getIsShowContent",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/getIsShowContent",method:"post",data:t})}),i()(r,"setIsShowContent",function(t){return Object(s.a)({url:d.a.BaseUrl+"/api/it_admin/setIsShowContent",method:"post",data:t})}),r);e.a=o}}]);
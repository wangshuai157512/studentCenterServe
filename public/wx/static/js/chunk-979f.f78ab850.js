(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-979f"],{"7Lrm":function(e,t,a){"use strict";var i=a("zkCn");a.n(i).a},"8SHQ":function(e,t,a){"use strict";t.a={imgUrl:"https://xxzx.chinaedu.net"}},"RU/L":function(e,t,a){a("Rqdy");var i=a("WEpk").Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},Rqdy:function(e,t,a){var i=a("Y7ZC");i(i.S+i.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(e,t,a){e.exports={default:a("RU/L"),__esModule:!0}},YEIV:function(e,t,a){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(a("SEkw"));t.default=function(e,t,a){return t in e?(0,i.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},qyKH:function(e,t,a){"use strict";a.r(t);var i=a("YEIV"),o=a.n(i),r=a("P2sY"),n=a.n(r),s=a("rVvO"),c=a("t3Un"),l=a("Dlz4"),d=a("8SHQ"),m={name:"project",data:function(){return{projectList:[],listLoading:!1,dialogFormVisible:!1,imgUrl:d.a.imgUrl,projectForm:{name:"",suolueImg:"",bannerImg:"",shareImg:"",weight:0},rules:{name:[{required:!0,message:"请输入项目名称"}],weight:[{required:!0,message:"请输入权重"},{type:"number",message:"请输入数字"}]},dialogType:0,projectId:null}},created:function(){this.getProjectList()},methods:{showModel:function(e){var t=this;this.dialogType=e,this.dialogFormVisible=!0,setTimeout(function(){t.$refs.projectForm.resetFields()}),this.projectForm=n()({},this.projectForm,{name:"",suolueImg:"",bannerImg:"",shareImg:"",weight:0})},getProjectList:function(){var e=this;this.listLoading=!0,Object(c.a)(s.a.getProjectList,"get").then(function(t){e.listLoading=!1,1===t.code?e.projectList=t.data:e.$message.error("获取失败")})},projectImg:function(e){var t=this,a=e.target.dataset.imgname,i=this.$refs[a].files[0];l.a.uploadImg(i).then(function(e){t.projectForm[a]=e.path,t.projectForm=n()({},t.projectForm,o()({},a,e.path))})},delImg:function(e){var t=e.target.dataset.imgname;this.projectForm=n()({},this.projectForm,o()({},t,""))},del:function(e){var t=this,a=this;this.$confirm("此操作将永久删除该渠道, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=t.$loading();Object(c.a)({url:s.a.delProject,method:"post",data:{id:e}}).then(function(e){1===e.code?setTimeout(function(){t.$message.success("删除成功"),i.close(),a.getProjectList()},1e3):t.$message.error("删除失败")})}).catch(function(){})},addProject:function(){var e=this,t=this;this.$refs.projectForm.validate(function(a){if(a){var i=e.$loading(),o=e.projectForm,r=o.name,n=o.suolueImg,l=o.bannerImg,d=o.shareImg,m=o.weight;Object(c.a)({url:s.a.addProject,method:"post",data:{name:r,weight:m,img:n,banner_img:l,shareImg:d}}).then(function(a){1===a.code?setTimeout(function(){t.dialogFormVisible=!1,i.close(),t.getProjectList()},1e3):(i.close(),e.$message.error("添加失败"))}).catch(function(t){e.$message.error("添加失败")})}})},edit:function(e){var t=this;this.showModel(1),this.projectId=e,Object(c.a)({url:s.a.getProjectDetail,method:"post",data:{id:e}}).then(function(e){1===e.code&&(t.projectForm=n()({},t.projectForm,{name:e.data.name,suolueImg:e.data.img,bannerImg:e.data.banner_img,weight:e.data.weight}))})},editProject:function(){var e=this,t=this;this.$refs.projectForm.validate(function(a){if(a){var i=e.$loading(),o=e.projectForm,r=o.name,n=o.suolueImg,l=o.bannerImg,d=o.shareImg,m=o.weight,u=e.projectId;Object(c.a)({url:s.a.editProject,method:"post",data:{name:r,weight:m,projectId:u,img:n,banner_img:l,shareImg:d}}).then(function(a){1===a.code?(e.$message.success("修改成功"),setTimeout(function(){t.dialogFormVisible=!1,i.close(),t.getProjectList()},1e3)):(i.close(),e.$message.error("修改失败"))}).catch(function(e){i.close()})}})}}},u=(a("7Lrm"),a("KHd+")),g=Object(u.a)(m,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"channel-content"},[a("div",{staticClass:"button-content"},[a("div",{staticClass:"add-content"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showModel(0)}}},[e._v("添加分类")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.projectList,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.id)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.edit(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"分类",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"projectForm",attrs:{model:e.projectForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"分类名称","label-width":"120px",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.projectForm.name,callback:function(t){e.$set(e.projectForm,"name",t)},expression:"projectForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类缩略图","label-width":"120px"}},[e.projectForm.suolueImg?a("div",{staticClass:"img-wrap"},[a("img",{staticClass:"suolue-img",attrs:{src:e.imgUrl+e.projectForm.suolueImg,alt:""}}),e._v(" "),a("span",{staticClass:"del-img"},[a("i",{staticClass:"el-icon-close",attrs:{"data-imgname":"suolueImg"},on:{click:function(t){e.delImg(t)}}})])]):a("button",{staticClass:"upload-btn"},[e._v("上传\n          "),a("input",{ref:"suolueImg",staticClass:"upload-input",attrs:{type:"file","data-imgname":"suolueImg"},on:{change:e.projectImg}})])]),e._v(" "),a("el-form-item",{attrs:{label:"分类banner图","label-width":"120px"}},[e.projectForm.bannerImg?a("div",{staticClass:"banner-img-wrap"},[a("img",{staticClass:"banner-img",attrs:{src:e.imgUrl+e.projectForm.bannerImg,alt:""}}),e._v(" "),a("span",{staticClass:"del-img"},[a("i",{staticClass:"el-icon-close",attrs:{"data-imgname":"bannerImg"},on:{click:function(t){e.delImg(t)}}})])]):a("button",{staticClass:"upload-btn"},[e._v("上传\n          "),a("input",{ref:"bannerImg",staticClass:"upload-input",attrs:{type:"file","data-imgname":"bannerImg"},on:{change:e.projectImg}})])]),e._v(" "),a("el-form-item",{attrs:{label:"分享封面","label-width":"120px"}},[e.projectForm.shareImg?a("div",{staticClass:"banner-img-wrap"},[a("img",{staticClass:"share-img",attrs:{src:e.imgUrl+e.projectForm.shareImg,alt:""}}),e._v(" "),a("span",{staticClass:"del-img"},[a("i",{staticClass:"el-icon-close",attrs:{"data-imgname":"shareImg"},on:{click:function(t){e.delImg(t)}}})])]):a("button",{staticClass:"upload-btn"},[e._v("上传\n          "),a("input",{ref:"shareImg",staticClass:"upload-input",attrs:{type:"file","data-imgname":"shareImg"},on:{change:e.projectImg}})])]),e._v(" "),a("el-form-item",{attrs:{label:"分类权重","label-width":"120px",prop:"weight"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.projectForm.weight,callback:function(t){e.$set(e.projectForm,"weight",e._n(t))},expression:"projectForm.weight"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),0===e.dialogType?a("el-button",{attrs:{type:"primary"},on:{click:e.addProject}},[e._v("添 加")]):1===e.dialogType?a("el-button",{attrs:{type:"primary"},on:{click:e.editProject}},[e._v("保 存")]):e._e()],1)],1)],1)},[],!1,null,"7c81eed5",null);g.options.__file="project.vue";t.default=g.exports},rVvO:function(e,t,a){"use strict";t.a={getUserList:"/wx/api/xc_admin/getUserList",getFormUserList:"/wx/api/xc_admin/getFormUserList",delUser:"/wx/api/xc_admin/delUser",getShareList:"/wx/api/xc_user/getShareList",changeEnter:"/wx/api/xc_admin/isEnter",changeUserType:"/wx/api/xc_admin/changeUserType",searchUser:"/wx/api/xc_admin/searchTeacher",getSquadList:"/wx/api/xc_admin/getSquadUser",searchSquad:"/wx/api/xc_admin/searchSquad",getChannel:"/wx/api/xc_admin/getChannel",addChannel:"/wx/api/xc_admin/addChannel",delChannel:"/wx/api/xc_admin/delChannel",getProjectList:"/wx/api/xc_admin/getProjectList",addProject:"/wx/api/xc_admin/addProject",delProject:"/wx/api/xc_admin/delProject",getProjectDetail:"/wx/api/xc_admin/getProjectDetail",editProject:"/wx/api/xc_admin/editProject",getClassList:"/wx/api/xc_admin/getClassList",addClassItem:"/wx/api/xc_admin/addClassItem",delClass:"/wx/api/xc_admin/delClass",getClassSloganList:"/wx/api/xc_admin/getClassSloganList",getClassDetail:"/wx/api/xc_admin/getClassDetail",editClass:"/wx/api/xc_admin/editClass",getCourseTagList:"/wx/api/xc_admin/getCourseTagList",addCourseTag:"/wx/api/xc_admin/addCourseTag",delCourseTag:"/wx/api/xc_admin/delCourseTag",getCourseType:"/wx/api/xc_admin/getCourseType",addCourseType:"/wx/api/xc_admin/addCourseType",delCourseType:"/wx/api/xc_admin/delCourseType",getCourseSlogan:"/wx/api/xc_admin/getCourseSlogan",addCourseSlogan:"/wx/api/xc_admin/addCourseSlogan",delCourseSlogan:"/wx/api/xc_admin/delCourseSlogan",getCourseList:"/wx/api/xc_admin/getCourseList",getAllcategoryOrProject:"/wx/api/xc_admin/getAllcategoryOrProject",addCourse:"/wx/api/xc_admin/addCourse",delCourse:"/wx/api/xc_admin/delCourse",editCourse:"/wx/api/xc_admin/editCourse",getCourseDetail:"/wx/api/xc_admin/getCourseDetail",getMaterial:"/wx/api/xc_admin/getMaterial",addMaterial:"/wx/api/xc_admin/addMaterial",editMaterial:"/wx/api/xc_admin/editMaterial",delMaterial:"/wx/api/xc_admin/delMaterial"}},zkCn:function(e,t,a){}}]);